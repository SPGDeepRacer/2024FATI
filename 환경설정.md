# 2024FATI

### 순서
1. [WSL 설치](#wsl-설치)
2. [우분투 20.04 LTS 설치](#우분투-2004-lts-설치)
3. [DeepRacer 로컬 학습환경 구축](#DeepRacer 로컬 학습환경 구축)
<br>
---
<br>

## WSL 설치
1. **Windows PowerShell 관리자로 실행**
2. **Windows Subsystem for Linux 활성화**
    ```sh
    dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
    ```
3. **Virtual Machine feature 활성화**
    ```sh
    dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
    ```
<p align="center">
  <img width="790" alt="그림1" src="https://github.com/user-attachments/assets/001af36f-e848-4087-b074-5ba57c652315">
</p>

4. **컴퓨터 재부팅**
5. **x64용 리눅스 커널 업데이트 패키지 설치**  
    [https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)  
6. **WSL를 WSL2로 업그레이드**  
    ```sh
    wsl --set-default-version 2
    ```
<br>

## 우분투 20.04 LTS 설치
1. **Microsoft Store에서 Ubuntu 20.04.6 LTS 다운로드**
2. **설치 된 Ubuntu 20.04 셸을 실행해서 ID, PW 설정**
3. **apt 명령어를 통한 시스템 최신화 및 업데이트**
    ```sh
    sudo apt update
    sudo apt upgrade
    ```
<br>

## DeepRacer 로컬 학습환경 구축
한줄씩 전부 명령어 실행하기
1. **필요 패키지 설치, docker-ce 설정**
    ```sh
    sudo apt-get install jq awscli python3-boto3 docker-compose

    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add –

    sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"

    sudo apt-get update && sudo apt-get install -y --no-install-recommends docker-ce docker-ce-cli containerd.io

    curl https://get.docker.com | sh
    ```

2. **CUDA 11, Docker2 설치 (NVIDIA GPU 사용 시)**
    ```sh
    distribution=$(. /etc/os-release;echo $ID$VERSION_ID)

    curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add –

    curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

    sudo apt-get update

    sudo apt-get install -y nvidia-docker2

    sudo service docker stop

    sudo service docker start

    cat /etc/docker/daemon.json | jq 'del(."default-runtime") + {"default-runtime": "nvidia"}' | sudo tee /etc/docker/daemon.json

    sudo usermod -a -G docker $(id -un)
    ```

3. **DRfC (DeepRacer for Cloud) repository 복제**
    ```sh
    sudo service docker start

    git clone https://github.com/aws-deepracer-community/deepracer-for-cloud

    cd deepracer-for-cloud
    ```

4. **Docker image 및 필요 패키지 설치**
    ```sh
    sudo apt install docker-buildx-plugin

    sudo bin/init.sh -a gpu -c local

    sudo reboot -f

    sudo service docker start

    sudo chmod 666 /var/run/docker.sock
    ```
