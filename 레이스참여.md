# 학습된 모델을 온라인 레이스에 업로드해 참여하는 방법
크게 <br>
1. AWS S3 bucket 생성 <br>
2. AWS S3 bucket에 모델 업로드 <br>
3. 온라인 레이스에 참여하여 bucket의 모델 제출하기 <br>
해당 과정은 ubuntu 관리자가 아닌 일반(자신) 사용자로 진행해도 괜찮습니다.
<br>
---
## 1. AWS S3 bucket 생성
* AWS 콘솔 사이트에서 S3 검색
  <p align=center>
    <img width="800" alt="스크린샷 2024-07-27 오후 5 20 52" src="https://github.com/user-attachments/assets/5b5d44b4-d34f-47b3-a1ea-03bec258fc2b">
  </p>

<br>

* 버킷 이름만 설정하여 생성 (다른 옵션은 기본설정)
  <p align=center>
    <img width="360" alt="스크린샷 2024-07-27 오후 5 21 02" src="https://github.com/user-attachments/assets/c147b95f-ce41-4f2c-af2a-ebf2a0b5c0e9">
    <img width="800" alt="스크린샷 2024-07-27 오후 5 22 04" src="https://github.com/user-attachments/assets/eeeb954b-ed16-4514-936f-1311eccd08dc">
    <img width="800" alt="스크린샷 2024-07-27 오후 5 22 15" src="https://github.com/user-attachments/assets/1edde4f9-7249-4f3f-b4e0-e5d99e42b2c9">
  </p>

<br>

* DRfC환경에서 aws configure 명령어를 통해 credential 검증 <br>
  (로컬학습환경 구성 과정에서 AWS 가입 후 발급한 액세스키, 비밀 액세스키 입력)
  ```sh
  aws configure
  ```
* 로컬 환경에서 "aws s3 ls" 명령어를 입력했을 때 AWS S3 서비스에서 생성한 버킷의 리스트가 출력된다
  ```sh
  aws s3 ls
  ```
  <p align=center>
    <img width="800" alt="스크린샷 2024-07-27 오후 5 41 39" src="https://github.com/user-attachments/assets/981732c6-190e-4768-992c-c3950a931b02">
  </p>
  
<br>
<br>

## AWS S3 bucket에 모델 업로드

* system.env 파일의 DR_UPLOAD_S3_BUCKET의 값을 S3 Bucket의 이름과 동일하게 설정 <br>
  * deepracer-for-cloud로 경로 이동 후, 아래 명령어로 env 파일 열기
  ```sh
  vi system.env
  ```
  
  <p align=center>
       <img width="500" alt="스크린샷 2024-07-28 오전 2 08 12" src="https://github.com/user-attachments/assets/f6db3383-dfe0-47e6-89ea-47d66051559c">
  </p>
  
  
* dr-upload-model 명령어 입력
  ```sh
  dr-upload-model
  ```

* Run.env파일의 DR_LOCAL_S3_MODEL_PREFIX 이름의 모델이 DR_UPLOAD_S3_PREFIX 형태로 bucket에 업로드 됨 



## 온라인 레이스에 참여하여 bucket의 모델 제출하기


<br>
<br>



